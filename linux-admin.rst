=========
Linux管理
=========

.. highlight:: console

よく忘れるコマンドメモ。

一般
=====

ランダム文字列生成:

	$ openssl rand -hex 16

システム
========

* `プロセスグループとセッショングループ <https://blog.a-know.me/entry/2016/10/27/082350>`_

プロセスグループ
-----------------

複数のプロセスがまとまったもの。
基本的に最初のプロセスがグループのリーダープロセスになる。
リーダーから ``fork`` したプロセスは、同じグループに属する。
シグナルは同じグループの全プロセスに送られる。

セッショングループ
------------------

プロセスグループの集合。
パイプで繋がれたプロセスは、一般的には同じセッショングループに属する。
``ps`` コマンドの *STAT* が ``Ss`` の場合はセッションリーダーで、
``S+`` の場合はフォアグラウンド(端末にアタッチされている)という意味らしい。

管理
======

ネットワークデバイス
--------------------

昔は ``eth0`` などの名前が使われたが、MACアドレスを編集するのが難しい環境や、
USBイーサネットなどの抜き差しするデバイスのために、
どこに刺さっているネットワークデバイスなのかで
``p0p1`` のような変わらない名前をつけるルールがあるらしい。

* `ネットワークインターフェースの名前 <http://blog.keshi.org/hogememo/2014/12/28/debian-vs-ubuntu-network-interface-names>`_

systemd
--------

* `systemd.index <https://www.freedesktop.org/software/systemd/man/index.html>`_

Yum関連
=======

アップデートが必要
------------------

アップデートが必要なサービスをリスト::

	$ sudo needs-restarting -s

システム再起動が必要かどうか調べる::

	$ sudo needs-restarting -r

古いカーネルを削除
------------------

2つだけ残してあとは削除::

	$ sudo package-cleanup --oldkernels --count=2

プログラムをトレース
--------------------

``ltrace`` でライブラリの動作をトレースする。
``strace`` でシステムコールの動作をトレースする。

* `straceとltraceでトレース <http://szarny.hatenablog.com/entry/2017/08/27/153048>`_
